<ion-header>
    <ion-navbar>
        <ion-title>Corte de venta</ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>

    <ion-col col-5>
        <h2>
            <b>Master</b>
            <div class="detalle">Corte de sucursal</div>
        </h2>
    </ion-col>
    <hr>

    <form [formGroup]="myForm" (ngSubmit)="saveData()">
        <ion-list>
            <ion-item>
                <ion-label style="color: black;"> Fecha Inicio</ion-label>
                <ion-datetime style="color: black;" formControlName="FechaInicio" displayFormat="DD/MM/YYYY" min="2018"
                    max="2050-10-31" doneText=Aceptar cancelText=Cancelar> </ion-datetime>
            </ion-item>
            <ion-item>
                <ion-label style="color: black;">Fecha Fin</ion-label>
                <ion-datetime style="color: black;" formControlName="FechaFin" displayFormat="DD/MM/YYYY" min="2018"
                    max="2050-10-31" doneText=Aceptar cancelText=Cancelar></ion-datetime>
            </ion-item>
        </ion-list>

        <div padding>
            <button ion-button color="naranja" block type="submit" [disabled]="!myForm.valid">Generar Corte</button>
        </div>
    </form>
    <br>
    <hr>
    <div *ngIf="subTotal">
        <ion-col col-5>
            <h2>
                <b>Corte</b>
                <div class="detalle">Detalle</div>
            </h2>
        </ion-col>
        <hr>
        <ion-list>
            <ion-item>
                <ion-avatar item-start>
                    <img class="icon" src="../assets/imgs/icons/home-03.png" style="width:50px; height:50px;">
                </ion-avatar>
                <h2 class="textosCortes">{{ nombreSucursal }} </h2>
                <h3 class="textosCortes">Fecha de inicio del corte: {{ fechaI | date }} </h3>
                <h3 class="textosCortes">Fecha de final del corte: {{ fechaF | date }} </h3>
            </ion-item>
            <ion-item>
                <ion-avatar item-start>
                    <img class="icon" src="../assets/imgs/icons/bar-09.png" style="width:50px; height:50px;">
                </ion-avatar>
                <h2 class="textosCortes">No. reservaciones finalizadas: <b>{{ cortesLength }} </b> </h2>
                <h3 class="textosCortes"></h3>
            </ion-item>
        </ion-list>
        <table style="width:100%">
            <tr>
                <th>
                    <h3>Rubro</h3>
                </th>
                <th>
                    <h3>Cantidad</h3>
                </th>
            </tr>
            <tr class="cantidadesStyle">
                <td>Subtotal</td>
                <td>{{ subTotal | currency }} </td>
            </tr>
            <tr class="cantidadesStyle">
                <td>Comisiones</td>
                <td>{{ comision | currency }} </td>
            </tr>
            <tr class="cantidadesStyle">
                <td>IVA</td>
                <td>{{ iva | currency }} </td>
            </tr>
            <tr class="cantidadesStyle">
                <td>Propinas</td>
                <td> {{ propinaRe | currency }} </td>
            </tr>

            <tr class="cantidadesStyle">
                <td>Total neto</td>
                <td> {{ totalNeto | currency }} </td>
            </tr>
        </table>
    </div>
</ion-content>