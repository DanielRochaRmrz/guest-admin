<ion-header>
  <ion-navbar hideBackButton>
    <ion-row>
      <ion-col>
        <ion-icon class="iconBh" name="ios-arrow-back-outline" (click)="behind()" style="color:white"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-title>Reembolsos</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-row>
    <ion-col col-9>
      <h2>
        <b>Master</b>
        <div class="detalle">Admon. Reembolsos</div>
      </h2>
    </ion-col>
    <ion-col col-3>
      <button (click)="goHistorialReembolsados()" ion-button block>
        <ion-icon ios="ios-list" md="md-list"></ion-icon>
      </button>
    </ion-col>
  </ion-row>

  <!-- <ion-searchbar placeholder="Buscar reservaciÃ³n por folio" [animated]="true" (ionInput)="getItems($event)"></ion-searchbar>
  <ion-segment selectedIndex="1" [(ngModel)]="folio">
  </ion-segment> -->
  <hr>

  <div class="content" scrollable (scrollPosition)="scrollHandler($event)">
    <div class="container">
      <ion-list>
        <ion-item-sliding *ngFor="let reservacion of page.data | async">
          <ion-item>
            <ion-avatar item-start>
              <ion-icon style="color: #fcc04d" ios="ios-arrow-dropright-circle"
                md="md-arrow-dropright-circle"></ion-icon>
            </ion-avatar>
            <h2>{{ (reservacion.idUsuario | getNameUser | async)?.displayName }}</h2>
            <p>Total a reembolsar al cliente: {{ reservacion.totales.totalNeto - (reservacion.totales.totalNeto * .10) | currency}} </p>
            <p>Folio: {{ reservacion.folio }} </p>
            <p>Fecha: {{ reservacion.fechaR | date: 'dd/MM/yyyy' }}</p>
          </ion-item>

          <ion-item-options side="left">
            <button ion-button color="primary" (click)="goDetalleReserva(reservacion.idReservacion, reservacion.totales.totalNeto)">
              <ion-icon ios="ios-alert" md="md-alert"></ion-icon>
              <span class="titulos">Detalle</span>
            </button>
          </ion-item-options>

          <ion-item-options side="right" (click)="functionReembolsar(reservacion.playerIDs, reservacion.idReservacion, reservacion.totales.totalNeto)">
            <button ion-button color="secondary">
              <ion-icon ios="ios-cash" md="md-cash"></ion-icon>
              <span>Reembolsar</span>
            </button>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>

    </div>
  </div>


</ion-content>